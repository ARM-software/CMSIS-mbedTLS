<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>mbed TLS v3.1.0: threading.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">mbed TLS v3.1.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_b4d146e9a6d8dd56ed4afb2480a97fd3.html">mbedtls</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">threading.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Threading abstraction layer.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="private__access_8h_source.html">mbedtls/private_access.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="build__info_8h_source.html">mbedtls/build_info.h</a>&quot;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
<code>#include &quot;threading_alt.h&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for threading.h:</div>
<div class="dyncontent">
<div class="center"><img src="threading_8h__incl.png" border="0" usemap="#threading_8h" alt=""/></div>
<map name="threading_8h" id="threading_8h">
<area shape="rect" id="node2" href="private__access_8h.html" title="Macro wrapper for struct&#39;s memebrs. " alt="" coords="11,80,181,107"/><area shape="rect" id="node3" href="build__info_8h.html" title="Build&#45;time configuration info. " alt="" coords="205,80,342,107"/><area shape="rect" id="node4" href="mbedtls__config_8h.html" title="Configuration options (set of defines) " alt="" coords="5,155,176,181"/><area shape="rect" id="node5" href="config__psa_8h.html" title="PSA crypto configuration options (set of defines) " alt="" coords="201,155,346,181"/><area shape="rect" id="node7" href="check__config_8h.html" title="Consistency checks for configuration options. " alt="" coords="370,155,529,181"/><area shape="rect" id="node6" href="crypto__config_8h.html" title="PSA crypto configuration options (set of defines) " alt="" coords="196,229,351,271"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="threading_8h__dep__incl.png" border="0" usemap="#threading_8hdep" alt=""/></div>
<map name="threading_8hdep" id="threading_8hdep">
<area shape="rect" id="node2" href="ctr__drbg_8h.html" title="This file contains definitions and functions for the CTR_DRBG pseudorandom generator. " alt="" coords="237,80,317,107"/><area shape="rect" id="node3" href="rsa_8h.html" title="This file provides an API for the RSA public&#45;key cryptosystem. " alt="" coords="341,80,392,107"/><area shape="rect" id="node9" href="ssl__cache_8h.html" title="SSL session cache implementation. " alt="" coords="323,528,415,555"/><area shape="rect" id="node10" href="ssl__cookie_8h.html" title="DTLS cookie callbacks implementation. " alt="" coords="439,528,534,555"/><area shape="rect" id="node11" href="ssl__ticket_8h.html" title="TLS server ticket callbacks implementation. " alt="" coords="558,528,647,555"/><area shape="rect" id="node18" href="entropy_8h.html" title="Entropy accumulator implementation. " alt="" coords="603,80,679,107"/><area shape="rect" id="node19" href="hmac__drbg_8h.html" title="The HMAC_DRBG pseudorandom generator. " alt="" coords="703,80,801,107"/><area shape="rect" id="node4" href="pk_8h.html" title="Public Key abstraction layer. " alt="" coords="121,155,167,181"/><area shape="rect" id="node12" href="x509_8h.html" title="X.509 generic defines and structures. " alt="" coords="301,229,363,256"/><area shape="rect" id="node5" href="ssl__ciphersuites_8h.html" title="SSL Ciphersuites for mbed TLS. " alt="" coords="81,379,207,405"/><area shape="rect" id="node16" href="oid_8h.html" title="Object Identifier (OID) database. " alt="" coords="5,229,56,256"/><area shape="rect" id="node17" href="psa__util_8h.html" title="Utility functions for the use of the PSA Crypto library. " alt="" coords="9,304,87,331"/><area shape="rect" id="node6" href="ssl_8h.html" title="SSL/TLS functions. " alt="" coords="248,453,299,480"/><area shape="rect" id="node7" href="debug_8h.html" title="Functions for controlling and providing debug output from the library. " alt="" coords="231,528,299,555"/><area shape="rect" id="node8" href="net__sockets_8h.html" title="Network sockets abstraction layer to integrate Mbed TLS into a BSD&#45;style sockets API. " alt="" coords="103,528,207,555"/><area shape="rect" id="node13" href="x509__crt_8h.html" title="X.509 certificate parsing and writing. " alt="" coords="283,379,365,405"/><area shape="rect" id="node14" href="x509__crl_8h.html" title="X.509 certificate revocation list parsing. " alt="" coords="181,304,264,331"/><area shape="rect" id="node15" href="x509__csr_8h.html" title="X.509 certificate signing request parsing and writing. " alt="" coords="289,304,375,331"/></map>
</div>
</div>
<p><a href="threading_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a76cd79a1ed3fd583ed3a4428d6a1e967"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#a76cd79a1ed3fd583ed3a4428d6a1e967">MBEDTLS_ERR_THREADING_BAD_INPUT_DATA</a>&#160;&#160;&#160;-0x001C</td></tr>
<tr class="separator:a76cd79a1ed3fd583ed3a4428d6a1e967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51005c51b928706511d3c2ea3390c07f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#a51005c51b928706511d3c2ea3390c07f">MBEDTLS_ERR_THREADING_MUTEX_ERROR</a>&#160;&#160;&#160;-0x001E</td></tr>
<tr class="separator:a51005c51b928706511d3c2ea3390c07f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aeb3bf51c492406c24d3ae91b864a6a18"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#aeb3bf51c492406c24d3ae91b864a6a18">mbedtls_threading_mutex_t</a></td></tr>
<tr class="separator:aeb3bf51c492406c24d3ae91b864a6a18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a827c7ec5b9ed1dfa35c77c0d3664de49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#a827c7ec5b9ed1dfa35c77c0d3664de49">mbedtls_threading_set_alt</a> (void(*mutex_init)(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *), void(*mutex_free)(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *), int(*mutex_lock)(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *), int(*mutex_unlock)(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *))</td></tr>
<tr class="memdesc:a827c7ec5b9ed1dfa35c77c0d3664de49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set your alternate threading implementation function pointers and initialize global mutexes. If used, this function must be called once in the main thread before any other mbed TLS function is called, and <a class="el" href="threading_8h.html#a57912b195ee76e378ced4197822599af" title="Free global mutexes. ">mbedtls_threading_free_alt()</a> must be called once in the main thread after all other mbed TLS functions.  <a href="#a827c7ec5b9ed1dfa35c77c0d3664de49">More...</a><br/></td></tr>
<tr class="separator:a827c7ec5b9ed1dfa35c77c0d3664de49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57912b195ee76e378ced4197822599af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#a57912b195ee76e378ced4197822599af">mbedtls_threading_free_alt</a> (void)</td></tr>
<tr class="memdesc:a57912b195ee76e378ced4197822599af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free global mutexes.  <a href="#a57912b195ee76e378ced4197822599af">More...</a><br/></td></tr>
<tr class="separator:a57912b195ee76e378ced4197822599af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a92228f8dc3c7b899b0f3d190c78c5383"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#a92228f8dc3c7b899b0f3d190c78c5383">mbedtls_mutex_init</a> )(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *mutex)</td></tr>
<tr class="separator:a92228f8dc3c7b899b0f3d190c78c5383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76b36ae7227a79d855795b1a0cdb21b6"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#a76b36ae7227a79d855795b1a0cdb21b6">mbedtls_mutex_free</a> )(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *mutex)</td></tr>
<tr class="separator:a76b36ae7227a79d855795b1a0cdb21b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de33e9651d8fa82ada873f7c41fe118"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#a1de33e9651d8fa82ada873f7c41fe118">mbedtls_mutex_lock</a> )(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *mutex)</td></tr>
<tr class="separator:a1de33e9651d8fa82ada873f7c41fe118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bc5b1a8f4c0b19a69db0978f4879b73"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#a3bc5b1a8f4c0b19a69db0978f4879b73">mbedtls_mutex_unlock</a> )(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *mutex)</td></tr>
<tr class="separator:a3bc5b1a8f4c0b19a69db0978f4879b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87bbccdf40874b80a9f7313627734c38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#a87bbccdf40874b80a9f7313627734c38">mbedtls_threading_readdir_mutex</a></td></tr>
<tr class="separator:a87bbccdf40874b80a9f7313627734c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81df682884dc24198fb7fc86c6100f34"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#a81df682884dc24198fb7fc86c6100f34">mbedtls_threading_gmtime_mutex</a></td></tr>
<tr class="separator:a81df682884dc24198fb7fc86c6100f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Threading abstraction layer. </p>

<p>Definition in file <a class="el" href="threading_8h_source.html">threading.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a76cd79a1ed3fd583ed3a4428d6a1e967"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MBEDTLS_ERR_THREADING_BAD_INPUT_DATA&#160;&#160;&#160;-0x001C</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bad input parameters to function. </p>

<p>Definition at line <a class="el" href="threading_8h_source.html#l00035">35</a> of file <a class="el" href="threading_8h_source.html">threading.h</a>.</p>

</div>
</div>
<a class="anchor" id="a51005c51b928706511d3c2ea3390c07f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MBEDTLS_ERR_THREADING_MUTEX_ERROR&#160;&#160;&#160;-0x001E</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locking / unlocking / free failed with error code. </p>

<p>Definition at line <a class="el" href="threading_8h_source.html#l00037">37</a> of file <a class="el" href="threading_8h_source.html">threading.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="aeb3bf51c492406c24d3ae91b864a6a18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a>  <a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a57912b195ee76e378ced4197822599af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mbedtls_threading_free_alt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free global mutexes. </p>

</div>
</div>
<a class="anchor" id="a827c7ec5b9ed1dfa35c77c0d3664de49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mbedtls_threading_set_alt </td>
          <td>(</td>
          <td class="paramtype">void(*)(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *)&#160;</td>
          <td class="paramname"><em>mutex_init</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *)&#160;</td>
          <td class="paramname"><em>mutex_free</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *)&#160;</td>
          <td class="paramname"><em>mutex_lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *)&#160;</td>
          <td class="paramname"><em>mutex_unlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set your alternate threading implementation function pointers and initialize global mutexes. If used, this function must be called once in the main thread before any other mbed TLS function is called, and <a class="el" href="threading_8h.html#a57912b195ee76e378ced4197822599af" title="Free global mutexes. ">mbedtls_threading_free_alt()</a> must be called once in the main thread after all other mbed TLS functions. </p>
<dl class="section note"><dt>Note</dt><dd>mutex_init() and mutex_free() don't return a status code. If mutex_init() fails, it should leave its argument (the mutex) in a state such that mutex_lock() will fail when called with this argument.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex_init</td><td>the init function implementation </td></tr>
    <tr><td class="paramname">mutex_free</td><td>the free function implementation </td></tr>
    <tr><td class="paramname">mutex_lock</td><td>the lock function implementation </td></tr>
    <tr><td class="paramname">mutex_unlock</td><td>the unlock function implementation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a76b36ae7227a79d855795b1a0cdb21b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* mbedtls_mutex_free)(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *mutex)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a92228f8dc3c7b899b0f3d190c78c5383"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* mbedtls_mutex_init)(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *mutex)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1de33e9651d8fa82ada873f7c41fe118"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* mbedtls_mutex_lock)(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *mutex)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3bc5b1a8f4c0b19a69db0978f4879b73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* mbedtls_mutex_unlock)(<a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> *mutex)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a81df682884dc24198fb7fc86c6100f34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> mbedtls_threading_gmtime_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a87bbccdf40874b80a9f7313627734c38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmbedtls__threading__mutex__t.html">mbedtls_threading_mutex_t</a> mbedtls_threading_readdir_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 30 2022 09:50:17 for mbed TLS v3.1.0 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
